
--管理者のテーブル

create table admin_users (
  id bigserial not null
  , name text not null
  , email text not null
  , password text not null
  , constraint admin_users_PKC primary key (id)
) ;

--利用者のテーブル

create table users (
  id bigserial not null
  , name text not null
  , email text not null
  , password text not null
  , address text not null
  , telephone text not null
  , constraint users_PKC primary key (id)
) ;

--映画のテーブル

create table cinemas (
	id bigserial not null,
	title text not null,
	price integer not null,
	genre text not null,
	time integer not null,
	release_date timestamp not null,
	media_type text not null,
	company text not null,
	directed_by text not null,
	rating text not null,
	description text not null,
	image_path text not null,
	deleted boolean default false not null,
	constraint cinemas_PKC primary key (id)
);

-- 注文
--drop table orders cascade;

create table orders (
  id bigserial not null
  , order_number text not null
  , user_id bigint not null
  , status integer not null
  , total_price integer not null
  , constraint orders_PKC primary key (id)
) ;

-- 注文詳細
--drop table order_items cascade;

create table order_items (
  id bigserial not null
  , item_id bigint not null
  , order_id bigint REFERENCES orders(id) not null
  , quantity integer not null
  , constraint order_items_PKC primary key (id)
) ;

--cinemasテーブルに追加する素材

INSERT INTO cinemas( title, price, genre, time, release_date, media_type, company, directed_by, rating, description, image_path, deleted)
VALUES( 'オデッセイ', 3163, 'SF', 142, '2016-06-03 00:00:00', 'DVD', '20世紀フォックス・ホーム・エンターテイメント・ジャパン', 'リドリー・スコット', '全年齢対象','70億人が、彼の帰りを待っている', 'imagePath', false);


INSERT INTO cinemas( title, price, genre, time, release_date, media_type, company, directed_by, rating, description, image_path, deleted)
VALUES('呪怨2', 2018, 'ホラー', 76, '2014-10-10 00:00:00', 'DVD', '東映株式会社', '清水崇', '15歳以上対象', '再び佐伯家への入居者に再び伽椰子の呪いが降りかかる...', 'imagePath', false);


INSERT INTO cinemas( title, price, genre, time, release_date, media_type, company, directed_by, rating, description, image_path, deleted)
VALUES('インサイドヘッド', 3127, 'ファンタジー', 95, '2015-11-18 00:00:00', 'DVD', 'ピクサー', 'ピートドクター', '全年齢対象', '初めまして。私たち、あなたの中の<きもち>です', 'imagePath', false);


INSERT INTO cinemas( title, price, genre, time, release_date, media_type, company, directed_by, rating, description, image_path, deleted)
VALUES('サイクロンZ', 1391, 'アクション', 94, '2011-12-09 00:00:00', 'DVD', 'パラマウントホームエンタテイメントジャパン', 'ジャッキーチェン', '全年齢対象', '戦う弁護士ジャッキーチェンのアクションコメディ', 'imagePath', false);

